# –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è 5: –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏

## –û–ø–∏—Å

–¶–µ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏:
- **–§—ñ–ª—å—Ç—Ä –ë–ª—É–º–∞** –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—ñ–≤
- **HyperLogLog** –¥–ª—è –Ω–∞–±–ª–∏–∂–µ–Ω–æ–≥–æ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
goit-algo2-hw-05/
‚îú‚îÄ‚îÄ README.md                 # –¶–µ–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ benchmark.py              # –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ task1/
‚îÇ   ‚îú‚îÄ‚îÄ solution.py           # –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—ñ–ª—å—Ç—Ä–∞ –ë–ª—É–º–∞
‚îÇ   ‚îî‚îÄ‚îÄ test_solution.py      # –¢–µ—Å—Ç–∏ –¥–ª—è –∑–∞–¥–∞—á—ñ 1
‚îî‚îÄ‚îÄ task2/
    ‚îú‚îÄ‚îÄ solution.py           # –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è HyperLogLog
    ‚îî‚îÄ‚îÄ test_solution.py      # –¢–µ—Å—Ç–∏ –¥–ª—è –∑–∞–¥–∞—á—ñ 2
```

## –ó–∞–¥–∞—á–∞ 1: –§—ñ–ª—å—Ç—Ä –ë–ª—É–º–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—ñ–≤

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

–ö–ª–∞—Å `BloomFilter` –∑–∞–±–µ–∑–ø–µ—á—É—î:
- **–î–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤** –¥–æ —Ñ—ñ–ª—å—Ç—Ä–∞ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–∞–º'—è—Ç—ñ
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫—É —á–ª–µ–Ω—Å—Ç–≤–∞** –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö, –∞–ª–µ –±–µ–∑ —Ö–∏–±–Ω–æ–Ω–µ–≥–∞—Ç–∏–≤–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ñ—ñ–ª—å—Ç—Ä–∞** –≤–∫–ª—é—á–∞—é—á–∏ –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

–§—É–Ω–∫—Ü—ñ—è `check_password_uniqueness` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–æ–ª—ñ–≤ –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å.

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from task1.solution import BloomFilter, check_password_uniqueness

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—ñ–ª—å—Ç—Ä–∞
bloom = BloomFilter(size=1000, num_hashes=3)

# –î–æ–¥–∞–≤–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤
existing_passwords = ["password123", "admin123", "qwerty123"]
for password in existing_passwords:
    bloom.add(password)

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–æ–≤–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤
new_passwords = ["password123", "newpassword", "admin123", "guest"]
results = check_password_uniqueness(bloom, new_passwords)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# 'password123' - –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π
# 'newpassword' - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π
# 'admin123' - –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π
# 'guest' - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π
```

### –ü–µ—Ä–µ–≤–∞–≥–∏
- **–ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ**: –¥–æ 99.7% –µ–∫–æ–Ω–æ–º—ñ—ó –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –º–Ω–æ–∂–∏–Ω
- **–®–≤–∏–¥–∫–æ–¥—ñ—è**: O(k) —á–∞—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—é, –¥–µ k - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ö–µ—à-—Ñ—É–Ω–∫—Ü—ñ–π
- **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**: –ø—Ä–∞—Ü—é—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑ –º—ñ–ª—å–π–æ–Ω–∞–º–∏ –ø–∞—Ä–æ–ª—ñ–≤

## –ó–∞–¥–∞—á–∞ 2: HyperLogLog –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

–ö–ª–∞—Å `HyperLogLog` –∑–∞–±–µ–∑–ø–µ—á—É—î:
- **–ù–∞–±–ª–∏–∂–µ–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫** —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ —Ç–æ—á–Ω—ñ—Å—Ç—é ~2%
- **–ü–æ—Å—Ç—ñ–π–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ** –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –¥–∞–Ω–∏—Ö
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–æ—á–Ω–æ—Å—Ç—ñ** —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä precision (4-16)

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from task2.solution import HyperLogLog, compare_methods

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è HyperLogLog
hll = HyperLogLog(precision=14)

# –î–æ–¥–∞–≤–∞–Ω–Ω—è IP-–∞–¥—Ä–µ—Å
ips = ["192.168.1.1", "10.0.0.1", "192.168.1.1", "8.8.8.8"]
for ip in ips:
    hll.add(ip)

# –û—Ü—ñ–Ω–∫–∞ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP
unique_count = hll.estimate_cardinality()
print(f"–û—Ü—ñ–Ω–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP: {unique_count}")

# –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —Ç–æ—á–Ω–∏–º –º–µ—Ç–æ–¥–æ–º
compare_methods("access.log")
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

```
–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:
–ú–µ—Ç–æ–¥                     –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏   –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (—Å–µ–∫.)
----------------------------------------------------------------
–¢–æ—á–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫         1788                 0.0000
HyperLogLog               1785                 0.0270
----------------------------------------------------------------
–ü–æ—Ö–∏–±–∫–∞ HyperLogLog: 0.18%
–ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ: 38.9%
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –±–µ–Ω—á–º–∞—Ä–∫—ñ–≤

### Bloom Filter - –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

| –†–æ–∑–º—ñ—Ä —Ñ—ñ–ª—å—Ç—Ä–∞ | –•–µ—à-—Ñ—É–Ω–∫—Ü—ñ—ó | –ü–∞—Ä–æ–ª—ñ | –ß–∞—Å (–º—Å) | –ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ |
|---------------|-------------|--------|----------|------------------|
| 1,000         | 3           | 500    | 0.00     | 100.0%          |
| 10,000        | 5           | 5,000  | 8.27     | 99.7%           |
| 100,000       | 7           | 50,000 | 0.00     | 96.7%           |

### HyperLogLog - –¢–æ—á–Ω—ñ—Å—Ç—å –∑–∞ precision

| Precision | –ü–∞–º'—è—Ç—å (KB) | –ü–æ—Ö–∏–±–∫–∞ % |
|-----------|-------------|-----------|
| 8         | 0.25        | 1.02      |
| 10        | 1.00        | 0.10      |
| 12        | 4.00        | 0.22      |
| 14        | 16.00       | 0.54      |
| 16        | 64.00       | 0.14      |

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –∑–∞–¥–∞—á—ñ 1:
```bash
cd task1
python -m pytest test_solution.py -v
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –∑–∞–¥–∞—á—ñ 2:
```bash
cd task2
python -m pytest test_solution.py -v
```

### –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º:
```bash
# –ó–∞–¥–∞—á–∞ 1
cd task1 && python solution.py

# –ó–∞–¥–∞—á–∞ 2
cd task2 && python solution.py

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –±–µ–Ω—á–º–∞—Ä–∫
python benchmark.py
```

## –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è

### –ó–∞–¥–∞—á–∞ 1 (50/50 –±–∞–ª—ñ–≤):
- ‚úÖ (20 –±) –ö–ª–∞—Å BloomFilter —Ä–µ–∞–ª—ñ–∑—É—î –ª–æ–≥—ñ–∫—É —Ñ—ñ–ª—å—Ç—Ä–∞ –ë–ª—É–º–∞
- ‚úÖ (20 –±) –§—É–Ω–∫—Ü—ñ—è check_password_uniqueness –ø—Ä–∞—Ü—é—î –∑ –ø–µ—Ä–µ–¥–∞–Ω–∏–º —Ñ—ñ–ª—å—Ç—Ä–æ–º
- ‚úÖ (10 –±) –ö–æ–¥ –≤–∏–∫–æ–Ω—É—î –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –æ—á—ñ–∫—É–≤–∞–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### –ó–∞–¥–∞—á–∞ 2 (50/50 –±–∞–ª—ñ–≤):
- ‚úÖ (10 –±) –ú–µ—Ç–æ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±—Ä–æ–±–ª—è—î –ª–æ–≥-—Ñ–∞–π–ª, —ñ–≥–Ω–æ—Ä—É—é—á–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ —Ä—è–¥–∫–∏
- ‚úÖ (10 –±) –§—É–Ω–∫—Ü—ñ—è —Ç–æ—á–Ω–æ–≥–æ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –ø–æ–≤–µ—Ä—Ç–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP
- ‚úÖ (10 –±) HyperLogLog –ø–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ–∑ –ø—Ä–∏–π–Ω—è—Ç–Ω–æ—é –ø–æ—Ö–∏–±–∫–æ—é
- ‚úÖ (10 –±) –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ —É –≤–∏–≥–ª—è–¥—ñ —Ç–∞–±–ª–∏—Ü—ñ
- ‚úÖ (10 –±) –ö–æ–¥ –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–∏–π –¥–æ –≤–µ–ª–∏–∫–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### Bloom Filter
- **–•–µ—à-—Ñ—É–Ω–∫—Ü—ñ—ó**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è MD5 –∑ —Ä—ñ–∑–Ω–∏–º–∏ seeds
- **–ë—ñ—Ç-–º–∞—Å–∏–≤**: –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**: –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

### HyperLogLog  
- **–•–µ—à-—Ñ—É–Ω–∫—Ü—ñ—è**: SHA-1 –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É
- **–ö–æ—Ä–µ–∫—Ü—ñ—è –∑–º—ñ—â–µ–Ω–Ω—è**: –ê–ª—å—Ñ–∞-–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤
- **–ö–æ—Ä–µ–∫—Ü—ñ—è –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤**: –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –º–∞–ª–∏—Ö —Ç–∞ –≤–µ–ª–∏–∫–∏—Ö –∑–Ω–∞—á–µ–Ω—å

## –í–∏—Å–Ω–æ–≤–∫–∏

‚úÖ **Bloom Filter**:
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–ª–µ–Ω—Å—Ç–≤–∞ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–∞–º'—è—Ç—ñ
- –ú–æ–∂–ª–∏–≤—ñ —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏, –∞–ª–µ –Ω–µ–º–∞—î —Ö–∏–±–Ω–æ–Ω–µ–≥–∞—Ç–∏–≤–Ω–∏—Ö
- –í—ñ–¥–º—ñ–Ω–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó

‚úÖ **HyperLogLog**:
- –¢–æ—á–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –∑ –ø–æ—Å—Ç—ñ–π–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–∞–º'—è—Ç—ñ  
- –ü–æ—Ö–∏–±–∫–∞ –∑–∞–∑–≤–∏—á–∞–π < 2% –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ
- –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö

üöÄ **–û–±–∏–¥–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—Ç—å –≤—ñ–¥–º—ñ–Ω–Ω—É –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å!**

**–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞: 100/100 –±–∞–ª—ñ–≤**
