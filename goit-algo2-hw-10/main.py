"""
–î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è 10: –ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –Ω–∞–±–ª–∏–∂–µ–Ω—ñ —Ç–∞ —Ä–∞–Ω–¥–æ–º—ñ–∑–æ–≤–∞–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏

–¶–µ –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª, —è–∫–∏–π –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±–æ—Ö –∑–∞–≤–¥–∞–Ω—å:
1. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä–∞–Ω–¥–æ–º—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–∞ –¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–æ–≥–æ QuickSort
2. –°–∫–ª–∞–¥–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –∑–∞–Ω—è—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∂–∞–¥—ñ–±–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
"""

import sys
import time
from task1_quicksort import run_performance_test, create_comparison_plot, verify_sorting_correctness
from task2_scheduling import Teacher, create_schedule


def run_task1():
    """–ó–∞–ø—É—Å–∫–∞—î –∑–∞–≤–¥–∞–Ω–Ω—è 1: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è QuickSort –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤"""
    print("üîÑ –ó–ê–í–î–ê–ù–ù–Ø 1: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä–∞–Ω–¥–æ–º—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–∞ –¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–æ–≥–æ QuickSort")
    print("=" * 80)
    
    try:
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
        print("–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è...")
        verify_sorting_correctness()
        
        # –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
        print("–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ...")
        results = run_performance_test()
        
        # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—É (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π matplotlib)
        try:
            print("–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è...")
            create_comparison_plot(results)
            print("‚úÖ –ì—Ä–∞—Ñ—ñ–∫ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–æ —è–∫ 'quicksort_comparison.png'")
        except ImportError:
            print("‚ö†Ô∏è  Matplotlib –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –ì—Ä–∞—Ñ—ñ–∫ –Ω–µ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ.")
        except Exception as e:
            print(f"‚ö†Ô∏è  –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫—É: {e}")
        
        print("\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 1 –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!")
        return True
        
    except Exception as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è 1: {e}")
        return False


def run_task2():
    """–ó–∞–ø—É—Å–∫–∞—î –∑–∞–≤–¥–∞–Ω–Ω—è 2: –°–∫–ª–∞–¥–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –∑–∞–Ω—è—Ç—å"""
    print("\nüè´ –ó–ê–í–î–ê–ù–ù–Ø 2: –°–∫–ª–∞–¥–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –∑–∞–Ω—è—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∂–∞–¥—ñ–±–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É")
    print("=" * 80)
    
    try:
        # –ú–Ω–æ–∂–∏–Ω–∞ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
        subjects = {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§—ñ–∑–∏–∫–∞', '–•—ñ–º—ñ—è', '–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ë—ñ–æ–ª–æ–≥—ñ—è'}
        
        # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤ –∑–≥—ñ–¥–Ω–æ –∑–∞–≤–¥–∞–Ω–Ω—è
        teachers = [
            Teacher("–û–ª–µ–∫—Å–∞–Ω–¥—Ä", "–Ü–≤–∞–Ω–µ–Ω–∫–æ", 45, "o.ivanenko@example.com", 
                    {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§—ñ–∑–∏–∫–∞'}),
            Teacher("–ú–∞—Ä—ñ—è", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", 38, "m.petrenko@example.com", 
                    {'–•—ñ–º—ñ—è'}),
            Teacher("–°–µ—Ä–≥—ñ–π", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ", 50, "s.kovalenko@example.com", 
                    {'–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'}),
            Teacher("–ù–∞—Ç–∞–ª—ñ—è", "–®–µ–≤—á–µ–Ω–∫–æ", 29, "n.shevchenko@example.com", 
                    {'–ë—ñ–æ–ª–æ–≥—ñ—è', '–•—ñ–º—ñ—è'}),
            Teacher("–î–º–∏—Ç—Ä–æ", "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ", 35, "d.bondarenko@example.com", 
                    {'–§—ñ–∑–∏–∫–∞', '–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'}),
            Teacher("–û–ª–µ–Ω–∞", "–ì—Ä–∏—Ü–µ–Ω–∫–æ", 42, "o.grytsenko@example.com", 
                    {'–ë—ñ–æ–ª–æ–≥—ñ—è'})
        ]
        
        print("–í–∏–∫–æ–Ω–∞–Ω–Ω—è –∂–∞–¥—ñ–±–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É...")
        print()
        
        # –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É
        schedule = create_schedule(subjects, teachers)
        
        # –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É
        if schedule:
            print("üéØ –†–û–ó–ö–õ–ê–î –ó–ê–ù–Ø–¢–¨:")
            print("=" * 50)
            for i, teacher in enumerate(schedule, 1):
                print(f"{i}. {teacher.first_name} {teacher.last_name}, {teacher.age} —Ä–æ–∫—ñ–≤")
                print(f"   Email: {teacher.email}")
                print(f"   –í–∏–∫–ª–∞–¥–∞—î –ø—Ä–µ–¥–º–µ—Ç–∏: {', '.join(sorted(teacher.assigned_subjects))}")
                print()
            
            print("‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 2 –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!")
            return True
        else:
            print("‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –ø–æ–∫—Ä–∏—Ç–∏ –≤—Å—ñ –ø—Ä–µ–¥–º–µ—Ç–∏ –Ω–∞—è–≤–Ω–∏–º–∏ –≤–∏–∫–ª–∞–¥–∞—á–∞–º–∏.")
            return False
            
    except Exception as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è 2: {e}")
        return False


def run_demo_scenarios():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤"""
    print("\nüîç –î–ï–ú–û–ù–°–¢–†–ê–¶–Ü–Ø –î–û–î–ê–¢–ö–û–í–ò–• –°–¶–ï–ù–ê–†–Ü–á–í")
    print("=" * 80)
    
    # –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ù–µ–ø–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è
    print("–°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ù–µ–ø–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤")
    print("-" * 40)
    
    subjects_limited = {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§—ñ–∑–∏–∫–∞', '–•—ñ–º—ñ—è', '–ê—Å—Ç—Ä–æ–Ω–æ–º—ñ—è'}  # –ê—Å—Ç—Ä–æ–Ω–æ–º—ñ—é –Ω—ñ—Ö—Ç–æ –Ω–µ –≤–∏–∫–ª–∞–¥–∞—î
    teachers_limited = [
        Teacher("–Ü–≤–∞–Ω", "–¢–µ—Å—Ç–æ–≤", 30, "ivan@test.com", {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'}),
        Teacher("–ú–∞—Ä—ñ—è", "–¢–µ—Å—Ç–æ–≤–∞", 25, "maria@test.com", {'–§—ñ–∑–∏–∫–∞', '–•—ñ–º—ñ—è'})
    ]
    
    schedule_limited = create_schedule(subjects_limited, teachers_limited)
    if schedule_limited:
        print("–†–æ–∑–∫–ª–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–æ (—á–∞—Å—Ç–∫–æ–≤–æ).")
    else:
        print("‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –ø–æ–∫—Ä–∏—Ç–∏ –≤—Å—ñ –ø—Ä–µ–¥–º–µ—Ç–∏.")
    
    # –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫
    print("\n–°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫")
    print("-" * 40)
    
    subjects_minimal = {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'}
    teachers_minimal = [
        Teacher("–ê–Ω–Ω–∞", "–ú—ñ–Ω—ñ–º–∞–ª", 28, "anna@test.com", {'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'})
    ]
    
    schedule_minimal = create_schedule(subjects_minimal, teachers_minimal)
    if schedule_minimal:
        print(f"‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥: {schedule_minimal[0].first_name} –≤–∏–∫–ª–∞–¥–∞—î –ú–∞—Ç–µ–º–∞—Ç–∏–∫—É")


def print_summary():
    """–í–∏–≤–æ–¥–∏—Ç—å –ø—ñ–¥—Å—É–º–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–∞–≤–¥–∞–Ω—å"""
    print("\nüìã –ü–Ü–î–°–£–ú–û–ö –í–ò–ö–û–ù–ê–ù–ù–Ø –î–û–ú–ê–®–ù–¨–û–ì–û –ó–ê–í–î–ê–ù–ù–Ø")
    print("=" * 80)
    print("‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 1: –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ QuickSort")
    print("   - –†–∞–Ω–¥–æ–º—ñ–∑–æ–≤–∞–Ω–∏–π QuickSort –∑ –≤–∏–ø–∞–¥–∫–æ–≤–∏–º –≤–∏–±–æ—Ä–æ–º pivot")
    print("   - –î–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–π QuickSort –∑ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º –≤–∏–±–æ—Ä–æ–º pivot")
    print("   - –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ")
    print("   - –°—Ç–≤–æ—Ä–µ–Ω–æ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤")
    print()
    print("‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 2: –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∂–∞–¥—ñ–±–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∫–ª–∞–¥–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É")
    print("   - –ö–ª–∞—Å Teacher –∑ –ø–æ–≤–Ω–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º")
    print("   - –ñ–∞–¥—ñ–±–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∫—Ä–∏—Ç—Ç—è –º–Ω–æ–∂–∏–Ω–∏")
    print("   - –ö—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–±–æ—Ä—É: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è + –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≤—ñ–∫")
    print("   - –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –∞–Ω–∞–ª—ñ–∑ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ")
    print()
    print("üìä –î–æ–¥–∞—Ç–∫–æ–≤–æ:")
    print("   - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è")
    print("   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä—ñ–∑–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤")
    print("   - –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ")
    print()
    print("üéØ –í—Å—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è –≤–∏–∫–æ–Ω–∞–Ω–æ!")


def main():
    """–ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—Ö –∑–∞–≤–¥–∞–Ω—å"""
    print("üöÄ –î–û–ú–ê–®–ù–Ñ –ó–ê–í–î–ê–ù–ù–Ø 10")
    print("–ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –Ω–∞–±–ª–∏–∂–µ–Ω—ñ —Ç–∞ —Ä–∞–Ω–¥–æ–º—ñ–∑–æ–≤–∞–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏")
    print("=" * 80)
    
    start_time = time.time()
    
    # –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
    task1_success = run_task1()
    task2_success = run_task2()
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤
    run_demo_scenarios()
    
    # –ü—ñ–¥—Å—É–º–æ–∫
    print_summary()
    
    # –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    total_time = time.time() - start_time
    print(f"‚è±Ô∏è  –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: {total_time:.2f} —Å–µ–∫—É–Ω–¥")
    
    # –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
    if task1_success and task2_success:
        print("\nüéâ –£—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!")
        return 0
    else:
        print("\n‚ö†Ô∏è  –î–µ—è–∫—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ –∑ –ø–æ–º–∏–ª–∫–∞–º–∏.")
        return 1


if __name__ == "__main__":
    exit_code = main()
    sys.exit(exit_code)
